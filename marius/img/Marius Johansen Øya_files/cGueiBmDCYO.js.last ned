if (self.CavalryLogger) { CavalryLogger.start_js(["rBJu+"]); }

__d("KeyframesTween",["invariant","CubicBezier","KeyframesPathUtils","KeyframesSchema"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("KeyframesPathUtils").interpolateCubic,i=b("KeyframesPathUtils").interpolateLinear,j=b("KeyframesPathUtils").interpolateQuad;b("KeyframesSchema").Color;b("KeyframesSchema").ColorAnimation;b("KeyframesSchema").Command;var k=b("KeyframesSchema").CommandType;b("KeyframesSchema").Path;b("KeyframesSchema").PathAnimation;b("KeyframesSchema").Point;b("KeyframesSchema").PointAnimation;b("KeyframesSchema").ScalarAnimation;var l=b("KeyframesSchema").TweenType;function m(a){return a}function n(a){return{x:a.x(),y:a.y()}}function o(a){return{red:a.red(),green:a.green(),blue:a.blue(),alpha:a.alpha()}}function p(a){var b=a.control1(),c=a.control2();return{type:a.type(),point:n(a.point()),control1:b?n(b):null,control2:c?n(c):null}}function q(a){var b=[];for(var c=0;c<a.commandsLength();c++)b.push(p(a.commands(c)));return b}function r(a,b){if(a>=b.keyframes(b.keyframesLength()-1))return 1;else if(a<b.keyframes(0))return-1;return 0}function s(a,b){if(r(a,b)!==0)return null;var c=0,d=b.keyframesLength()-1;while(c+1<d){var e=Math.floor((d-c)/2+c);b.keyframes(e)<a?c=e:d=e}return c}function t(a,c,d){var e=c.tweens(d),f=e.type();if(f===l.Hold)return 1;a=(a-c.keyframes(d))/(c.keyframes(d+1)-c.keyframes(d));switch(f){case l.Linear:return a;case l.Bezier:default:return new(b("CubicBezier"))([e.control1().x(),e.control1().y()],[e.control2().x(),e.control2().y()]).solve(a)}}var u=function(a,b,c){return a*(c-b)+b},v=function(a,b,c){return{x:u(a,b.x(),c.x()),y:u(a,b.y(),c.y())}},w=function(a,b,c){return b&&c?v(a,b,c):null};d=function(a,b,c){return{red:u(a,b.red(),c.red()),green:u(a,b.green(),c.green()),blue:u(a,b.blue(),c.blue()),alpha:u(a,b.alpha(),c.alpha())}};f=function(a,b,c){var d=[];for(var e=0;e<b.commandsLength();e++){var f=b.commands(e),g=c.commands(e);d.push({type:f.type(),point:v(a,f.point(),g.point()),control1:w(a,f.control1(),g.control1()),control2:w(a,f.control2(),g.control2())})}return d};function a(a,b,c,d){var e=s(c,d);e!=null||g(0,undefined);c=t(c,d,e);switch(c){case 0:return b(d.values(e));case 1:return b(d.values(e+1));default:return a(c,d.values(e),d.values(e+1))}}var x=a.bind(null,u,m),y=a.bind(null,v,n),z=a.bind(null,d,o),A=a.bind(null,f,q);function B(a,b,c,d){if(b.keyframesLength())switch(r(a,b)){case-1:return d(b.values(0));case 1:return d(b.values(b.valuesLength()-1));case 0:return c(a,b)}return d(b.value())}d=function(a,b){return B(a,b,x,m)};a=function(a,b){return B(a,b,y,n)};f=function(a,b){return B(a,b,z,o)};var C=function(a,b){return B(a,b,A,q)};function D(a,b,c){return{x:i(a,b.x,c.x),y:i(a,b.y,c.y)}}function E(a,b,c,d){var e=a*a,f=1-a,g=f*f;return{x:j(a,e,f,g,b.x,d.x,c.x),y:j(a,e,f,g,b.y,d.y,c.y)}}function F(a,b,c,d,e){var f=a*a,g=1-a,i=g*g;return{x:h(a,f,g,i,b.x,d.x,e.x,c.x),y:h(a,f,g,i,b.y,d.y,e.y,c.y)}}function G(a,b,c){__p&&__p();a=t(a,b,c);b=b.value();var d=n(b.commands(c).point());b=p(b.commands(c+1));switch(b.type){case k.LineTo:return D(a,d,b.point);case k.QuadTo:b.control1||g(0,undefined);return E(a,d,b.point,b.control1);case k.CubicTo:b.control1&&b.control2||g(0,undefined);return F(a,d,b.point,b.control1,b.control2);default:throw new Error("Unrecognized segment type "+b.type)}}function c(a,b){switch(r(a,b)){case-1:return n(b.value().commands(0).point());case 1:var c=b.value();return n(c.commands(c.commandsLength()-1).point());default:c=s(a,b);c!=null||g(0,undefined);return G(a,b,c)}}a={maybeTweenPoint2:a,maybeTweenColor:f,maybeTweenScalar:d,maybeTweenPath:C,tweenPointOnPath:c};e.exports=a}),null);